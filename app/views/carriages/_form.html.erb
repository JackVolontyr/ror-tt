<h1><%= form_name %></h1>

<%= form_with model: model, local: true do |f| %>
  <%= render 'components/error_block', item: model %>

  <%= render 'components/table', caption: get_caption("carriages", "form") do %>
    <div class="tutu-table__row tutu-table__row--body">
      <%= table_cell f.text_field(:number, class: "tutu-field") %>

      <%= table_cell f.select(
          :type,
          get_carriage_types,
          { selected: model.type },
          { class: "tutu-field" } ) %>

      <%= table_cell f.text_field(:bottom_seats, class: "tutu-field tutu-field--number") %>
      <%= table_cell f.text_field(:top_seats, class: "tutu-field tutu-field--number") %>
      <%= table_cell f.text_field(:side_bottom_seats, class: "tutu-field tutu-field--number") %>
      <%= table_cell f.text_field(:side_top_seats, class: "tutu-field tutu-field--number") %>
      <%= table_cell f.text_field(:seats, class: "tutu-field") %>

      <%= render "components/form_radio_cell",
                 form: f,
                 main_method: :train_id,
                 collection: Train.all,
                 value_method: :id,
                 text_method: :number %>
    </div>
  <% end %>

  <%= content_tag :div do %>
    <%= f.submit form_button, class: "tutu-button" %>
  <% end %>
<% end %>
