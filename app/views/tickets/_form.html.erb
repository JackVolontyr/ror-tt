<h1><%= form_name %></h1>

<%= form_with model: model, local: true do |f| %>
  <%= render 'components/error_block', item: model %>

  <%= render 'components/table',
             caption: ["Поезда", "Пассажиры", "Станция Отбытия", "Станция Прибытия"] do %>
    <div class="tutu-table__row tutu-table__row--body">

      <!--TODO: refactor with loop-->
      <%= table_cell_with do %>
        <% f.collection_radio_buttons :train_id, Train.all, :id, :number do |b| %>
          <%= b.label class: "tutu-label tutu-label--left" do %>
            <%= b.radio_button %><%= b.object.number %>
          <% end %>
        <% end %>
      <% end %>

      <%= table_cell_with do %>
        <% f.collection_radio_buttons :user_id, User.all, :id, :name do |b| %>
          <%= b.label class: "tutu-label tutu-label--left" do %>
            <%= b.radio_button %><%= b.object.name %>
          <% end %>
        <% end %>
      <% end %>

      <%= table_cell_with do %>
        <% f.collection_radio_buttons :station_first, Station.all, :id, :name do |b| %>
          <%= b.label class: "tutu-label tutu-label--left" do %>
            <%= b.radio_button %><%= b.object.name %>
          <% end %>
        <% end %>
      <% end %>

      <%= table_cell_with do %>
        <% f.collection_radio_buttons :station_last, Station.all, :id, :name do |b| %>
          <%= b.label class: "tutu-label tutu-label--left" do %>
            <%= b.radio_button %><%= b.object.name %>
          <% end %>
        <% end %>
      <% end %>
    </div>
  <% end %>

  <%= content_tag :div, class: "" do %>
    <%= f.submit form_button, class: "tutu-button" %>
  <% end %>
<% end %>